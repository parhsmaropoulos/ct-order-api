[{"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/firebase/AuthProvider.js":"1","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Create/CreatePage.js":"2","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/AdminLogInPage.js":"3","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/NotUsing/users/AllUsersPage.js":"4","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Logging/SnackBars/ErrorSnackbar.js":"5","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Order/PreCompleteOrderPage.js":"6","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/adminReducer.js":"7","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/comments.js":"8","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/orders.js":"9","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Components/Sidebar.js":"10","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Components/CommentsCatalog.js":"11","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Orders/OrderUserDetailsRow.js":"12","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Order/EveryPayForm.js":"13","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Layout/Header.js":"14","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Common/PrivateRoute.js":"15","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/View/Choices/SingleChoicePage.js":"16","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/View/Products/SingleItemPage.js":"17","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/webSocketReducer.js":"18","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/actions.js":"19","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/utils/util.js":"20","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Modals/AddressModal.js":"21","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Common/PrintComponent.js":"22","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Orders/OrderProductsRow.js":"23","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/App.js":"24","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Order/OrderMainPage.js":"25","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Logging/SnackBars/SuccessSnackbar.js":"26","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/errors.js":"27","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/lib.js":"28","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Layout/Marker.js":"29","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Create/CreateForm.js":"30","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/productReducer.js":"31","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Layout/NotFound.js":"32","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Users/UserRatings.js":"33","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Comments/AllComents.js":"34","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Orders/OrdersCatalog.js":"35","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/View/Choices/ChoicesComponent.js":"36","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Create/CreateIngredientForm.js":"37","/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Home/HomePage.js":"38"},{"size":461,"mtime":1629463067578,"results":"39","hashOfConfig":"40"},{"size":2129,"mtime":1629463067572,"results":"41","hashOfConfig":"40"},{"size":2879,"mtime":1629463067568,"results":"42","hashOfConfig":"40"},{"size":380,"mtime":1629463067567,"results":"43","hashOfConfig":"40"},{"size":1403,"mtime":1629463067564,"results":"44","hashOfConfig":"40"},{"size":22006,"mtime":1630330877388,"results":"45","hashOfConfig":"40"},{"size":4609,"mtime":1629463067578,"results":"46","hashOfConfig":"40"},{"size":2446,"mtime":1629463067558,"results":"47","hashOfConfig":"40"},{"size":5501,"mtime":1629463067559,"results":"48","hashOfConfig":"40"},{"size":2844,"mtime":1629463067569,"results":"49","hashOfConfig":"40"},{"size":5284,"mtime":1629463067569,"results":"50","hashOfConfig":"40"},{"size":5933,"mtime":1629463067570,"results":"51","hashOfConfig":"40"},{"size":1363,"mtime":1630477265245,"results":"52","hashOfConfig":"40"},{"size":6406,"mtime":1629463067563,"results":"53","hashOfConfig":"40"},{"size":593,"mtime":1629463067570,"results":"54","hashOfConfig":"40"},{"size":6219,"mtime":1629463067575,"results":"55","hashOfConfig":"40"},{"size":15074,"mtime":1629463067576,"results":"56","hashOfConfig":"40"},{"size":565,"mtime":1629463067579,"results":"57","hashOfConfig":"40"},{"size":3909,"mtime":1629463067558,"results":"58","hashOfConfig":"40"},{"size":273,"mtime":1629463067579,"results":"59","hashOfConfig":"40"},{"size":5911,"mtime":1629463067565,"results":"60","hashOfConfig":"40"},{"size":7370,"mtime":1629463067569,"results":"61","hashOfConfig":"40"},{"size":3739,"mtime":1629463067569,"results":"62","hashOfConfig":"40"},{"size":5620,"mtime":1629463067562,"results":"63","hashOfConfig":"40"},{"size":27942,"mtime":1630412911725,"results":"64","hashOfConfig":"40"},{"size":1583,"mtime":1629463067564,"results":"65","hashOfConfig":"40"},{"size":808,"mtime":1629463067578,"results":"66","hashOfConfig":"40"},{"size":4643,"mtime":1629463067559,"results":"67","hashOfConfig":"40"},{"size":620,"mtime":1629463067563,"results":"68","hashOfConfig":"40"},{"size":1235,"mtime":1629463067571,"results":"69","hashOfConfig":"40"},{"size":3496,"mtime":1630392571341,"results":"70","hashOfConfig":"40"},{"size":263,"mtime":1629463067564,"results":"71","hashOfConfig":"40"},{"size":1722,"mtime":1629463067574,"results":"72","hashOfConfig":"40"},{"size":3593,"mtime":1629463067568,"results":"73","hashOfConfig":"40"},{"size":4466,"mtime":1629463067570,"results":"74","hashOfConfig":"40"},{"size":3549,"mtime":1629463067574,"results":"75","hashOfConfig":"40"},{"size":4199,"mtime":1629463067571,"results":"76","hashOfConfig":"40"},{"size":3014,"mtime":1630409525506,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"1f5a2ls",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"92"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/firebase/AuthProvider.js",[],["157","158"],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Create/CreatePage.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/AdminLogInPage.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/NotUsing/users/AllUsersPage.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Logging/SnackBars/ErrorSnackbar.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Order/PreCompleteOrderPage.js",["159"],"import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport \"../../../css/Pages/orderpage.css\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport {\n  send_order,\n  empty_cart,\n  order_accepted,\n  clearReducer,\n} from \"../../../actions/orders\";\nimport { getUser } from \"../../../actions/user\";\nimport {\n  InputLabel,\n  MenuItem,\n  Select,\n  FormControl,\n  List,\n  TextField,\n  CircularProgress,\n  FormControlLabel,\n  Checkbox,\n  FormGroup,\n  Button,\n} from \"@material-ui/core\";\nimport AddressModal from \"../../Modals/AddressModal\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport EditAddressModal from \"../../Modals/EditAddressModal\";\nimport { showErrorSnackbar } from \"../../../actions/snackbar\";\nimport { FormLabel } from \"react-bootstrap\";\nimport { auth_get_request, auth_post_request } from \"../../../actions/lib\";\nimport { GET_USER, SEND_ORDER } from \"../../../actions/actions\";\nimport EveryPayForm from \"./EveryPayForm\";\n\nconst availableTipOptions = [0.5, 1.0, 1.5, 2.0, 5.0, 10.0];\n\nclass PreCompleteOrderPage extends Component {\n  constructor(props) {\n    super(props);\n    this.eventSource = new EventSource(\n      `http://localhost:8080/sse/events/${props.match.params.id}`\n    );\n    this.state = {\n      id: 0,\n      availableAddress: [],\n      payment_type: \"Cash\",\n      payWithCard: false,\n      payWithCash: true,\n      payWithPaypal: false,\n      deliveryOption: \"Delivery\",\n      userDetails: {\n        bellName: \"\",\n        floor: \"\",\n      },\n      selectedAddress: {},\n      tips: \"0\",\n      comments: \"\",\n      showAddressModal: false,\n      showEditModal: false,\n      phone: \"\",\n      orderStatus: {\n        accepted: false,\n        timeToDelivery: 0,\n        send: false,\n        awaiting: false,\n      },\n      hasLoaded: false,\n    };\n    this.onSelectChange = this.onSelectChange.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.recieveOrder = this.recieveOrder.bind(this);\n    this.sendOrder = this.sendOrder.bind(this);\n    this.handlePaymentChange = this.handlePaymentChange.bind(this);\n    this.handleTipsChange = this.handleTipsChange.bind(this);\n  }\n\n  static propTypes = {\n    send_order: PropTypes.func.isRequired,\n    showErrorSnackbar: PropTypes.func.isRequired,\n    empty_cart: PropTypes.func.isRequired,\n    getUser: PropTypes.func.isRequired,\n    order_accepted: PropTypes.func.isRequired,\n    userReducer: PropTypes.object.isRequired,\n    orderReducer: PropTypes.object.isRequired,\n    clearReducer: PropTypes.func.isRequired,\n    auth_get_request: PropTypes.func.isRequired,\n    auth_post_request: PropTypes.func.isRequired,\n  };\n  handleTipsChange(tip) {\n    this.setState({ tips: tip });\n  }\n\n  recieveOrder(response) {\n    // console.log(\"here\");\n    let data = JSON.parse(response.data);\n    console.log(data);\n    // let orderStatus = this.state.orderStatus;\n    // orderStatus.accepted = data.accepted;\n    // orderStatus.awaiting = false;\n    // orderStatus.timeToDelivery = data.time;\n    this.props.order_accepted(data.time);\n  }\n\n  handlePaymentChange = (type) => {\n    switch (type) {\n      case \"cash\":\n        document.getElementById(\"tip-div\").style.display = \"block\";\n        this.setState({\n          payWithCard: false,\n          payWithCash: true,\n          payWithPaypal: false,\n          payment_type: \"cash\",\n        });\n        break;\n      case \"card\":\n        document.getElementById(\"tip-div\").style.display = \"none\";\n        this.setState({\n          payWithCard: true,\n          payWithCash: false,\n          payWithPaypal: false,\n          payment_type: \"card\",\n        });\n        break;\n      case \"paypal\":\n        document.getElementById(\"tip-div\").style.display = \"none\";\n        this.setState({\n          payWithCard: false,\n          payWithCash: false,\n          payWithPaypal: true,\n          payment_type: \"paypal\",\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  selectAddressModal = (showadd, showedit, address) => {\n    console.log(showadd, showedit, address);\n    this.setState({\n      showAddressModal: showadd,\n      showEditModal: showedit,\n      selectedAddress: address,\n    });\n    // console.log(address);\n    // this.setState({\n    //   showAddressModal: showadd,\n    //   showEditModal: showedit,\n    //   selectedAddress: address,\n    // });\n  };\n\n  // Convert order products to our form\n\n  convertToOrderProducts = (products) => {\n    let orderProducts = [];\n\n    products.forEach(function (product) {\n      let orderProduct = {\n        comment: product.comment,\n        price: product.item.price,\n        extra_price: product.extraPrice,\n        extra_ingredientes: product.extra_ingredientes,\n        item_name: product.item.name,\n        option_answers: product.optionAnswers,\n        quantity: product.quantity,\n        total_price: product.totalPrice,\n      };\n      orderProducts.push(orderProduct);\n    });\n\n    return orderProducts;\n  };\n\n  async sendOrder(e) {\n    // check input requirements\n    const order = {\n      products: this.convertToOrderProducts(this.props.orderReducer.products),\n      user_id: this.props.userReducer.user.ID,\n      // user_id: sessionStorage.getItem(\"userID\"),\n      delivery_type: this.state.deliveryOption,\n      pre_discount_price: this.props.orderReducer.totalPrice,\n      after_discount_price: this.props.orderReducer.totalPrice,\n      payment_type: this.state.payment_type,\n      tips: parseFloat(this.state.tips),\n      comments: this.state.comments,\n      discounts: [],\n      // user_details: {\n      name: this.props.userReducer.user.name,\n      surname: this.props.userReducer.user.surname,\n      address: this.state.selectedAddress,\n      phone: parseInt(this.state.phone),\n      bell_name: this.state.userDetails.bellName,\n      floor: this.state.userDetails.floor,\n      delivery_time: 40,\n      comment: {},\n      accepted: false,\n      completed: false,\n      canceled: false,\n      from_id: sessionStorage.getItem(\"userID\"),\n      // },\n    };\n    console.log(order);\n\n    if (this.validateFields(order)) {\n      let SSEdata = {\n        id: null,\n        order: null,\n        from: null,\n        user_details: null,\n      };\n      const res = await this.props.auth_post_request(\n        `orders/new_order`,\n        order,\n        SEND_ORDER\n      );\n      console.log(res);\n      let newOrder = res.data.data;\n      SSEdata.id = String(newOrder.ID);\n      SSEdata.order = newOrder;\n      SSEdata.from = String(sessionStorage.getItem(\"userID\"));\n      SSEdata.user_details = {};\n\n      const resp = await this.props.auth_post_request(\n        `sse/sendorder/${SSEdata.from}`,\n        SSEdata,\n        null\n      );\n      console.log(resp);\n    }\n  }\n\n  validateFields = (order) => {\n    const mobilePhoneRegex = new RegExp(/^69[0-9]{8}/);\n    const homePhoneRegex = new RegExp(/^21[0-9]{8}/);\n    if (order.delivery_type === \"\") {\n      this.props.showErrorSnackbar(\"Please select delivery type\");\n      return false;\n    } else if (order.payment_type === \"\") {\n      this.props.showErrorSnackbar(\"Please select payment type\");\n      return false;\n    } else if (order.address === \"\") {\n      this.props.showErrorSnackbar(\"Please select an adress\");\n      return false;\n    } else if (order.floor === \"\" || order.bell_name === \"\") {\n      this.props.showErrorSnackbar(\"Please enter floor and bell name\");\n      return false;\n    } else if (\n      (mobilePhoneRegex.test(order.phone) === false &&\n        homePhoneRegex.test(order.phone) === false) ||\n      order.length > 10\n    ) {\n      this.props.showErrorSnackbar(\"Please enter valid phone number\");\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  onChange = (e) => {\n    let userDetails = this.state.userDetails;\n    switch (e.target.name) {\n      case \"comment\":\n        this.setState({ comments: e.target.value });\n        break;\n      case \"bellName\":\n        userDetails.bellName = e.target.value;\n        this.setState({ userDetails: userDetails });\n        break;\n      case \"floorNumber\":\n        userDetails.floor = e.target.value;\n        this.setState({ userDetails: userDetails });\n        break;\n      case \"phone\":\n        this.setState({ phone: e.target.value });\n        break;\n      default:\n        break;\n    }\n  };\n\n  onSelectChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  onAddressChange = (e) => {\n    this.setState({\n      selectedAddress: this.props.userReducer.user.addresses[e.target.value],\n    });\n  };\n\n  componentDidMount() {\n    this.eventSource.onmessage = (e) => this.recieveOrder(e);\n    console.log(this.props);\n    if (this.props.userReducer.user !== null) {\n      if (this.props.userReducer.user.addresses.length > 0) {\n        this.setState({\n          selectedAddress: this.props.userReducer.user.addresses[0],\n        });\n      }\n      if (this.props.userReducer.user.last_order !== null) {\n        let newDetails = this.state.userDetails;\n        let last = this.props.userReducer.user.last_order;\n        newDetails.bellName = last.Bell_name;\n        newDetails.floor = last.Floor;\n        this.setState({\n          userDetails: newDetails,\n          phone: last.Phone,\n        });\n      }\n    }\n\n    // const script = document.createElement(\"script\");\n\n    // script.src = \"https://sandbox-js.everypay.gr/v3\";\n    // script.async = true;\n\n    // document.body.appendChild(script);\n  }\n  componentWillUnmount() {\n    if (this.props.orderReducer.sent && !this.props.orderReducer.pending) {\n      this.props.clearReducer();\n    }\n  }\n\n  showEditModal = (bool) => {\n    this.setState({\n      showEditModal: bool,\n    });\n  };\n\n  render() {\n    let addAddressModal;\n    let editAddressModal;\n    if (this.props.userReducer.user === null) {\n      this.props.auth_get_request(\n        `user/${sessionStorage.getItem(\"userID\")}`,\n        GET_USER\n      );\n      return (\n        <div className=\"loading-div\">\n          <CircularProgress disableShrink />{\" \"}\n        </div>\n      );\n    }\n    if (this.state.showAddressModal) {\n      addAddressModal = (\n        <AddressModal\n          displayModal={this.state.showAddressModal}\n          closeModal={() => this.selectAddressModal(false, false, \"\")}\n          editAddress={(showAdd, showEdit, address) =>\n            this.selectAddressModal(showAdd, showEdit, address)\n          }\n        />\n      );\n    }\n    if (this.state.showEditModal) {\n      editAddressModal = (\n        <EditAddressModal\n          address={this.state.selectedAddress}\n          updateAddress={false}\n          displayModal={this.state.showEditModal}\n          closeModal={() => this.showEditModal(false)}\n        />\n      );\n    }\n    if (this.props.orderReducer.pending && !this.props.orderReducer.recieved) {\n      return (\n        <div className=\"loading-div\">\n          <CircularProgress disableShrink />{\" \"}\n        </div>\n      );\n    }\n    if (this.props.orderReducer.sent && !this.props.orderReducer.pending) {\n      console.log(this.props.orderReducer.timeToDelivery);\n      return (\n        <div className=\"loading-div\">\n          Your order has been{\" \"}\n          {this.props.orderReducer.accepted ? <p>accepted</p> : <p>declined</p>}\n          {this.props.orderReducer.accepted ? (\n            <span>\n              It will be there in {this.props.orderReducer.timeToDelivery}\n            </span>\n          ) : (\n            <span></span>\n          )}\n          <Link to=\"/home\">\n            <Button>OK</Button>\n          </Link>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"pre-order-container\">\n          <div className=\"pre-order-container-body\">\n            <div className=\"pre-order-col pre-order-user-details\">\n              <div className=\"pre-order-col-container\">\n                <div className=\"pre-order-col-title\">1. User Details</div>\n                <div className=\"pre-order-col-subdiv\">\n                  <FormControl className=\"selectDeliveryControl\">\n                    <InputLabel id=\"selectDeliveryLabel\">\n                      Τρόπος παραγγελίας\n                    </InputLabel>\n                    <Select\n                      labelId=\"selectDeliveryLabel\"\n                      id=\"selectDelivery\"\n                      name=\"deliveryOption\"\n                      onChange={this.onSelectChange}\n                      required\n                      defaultValue=\"Delivery\"\n                    >\n                      <MenuItem value=\"Delivery\">Delivery</MenuItem>\n                      <MenuItem value=\"TakeAway\">\n                        Παραλαβή απο το κατάστημα\n                      </MenuItem>\n                    </Select>\n                  </FormControl>\n                </div>\n                <div className=\"pre-order-col-subdiv\">\n                  <FormControl className=\"selectAddressControl\">\n                    <InputLabel id=\"selectAddressLabel\">\n                      Select Address\n                    </InputLabel>\n                    <Select\n                      labelId=\"selectAddressLabel\"\n                      id=\"selectAddress\"\n                      name=\"selectedAddress\"\n                      value={\n                        this.props.userReducer.user.addresses.length > 0\n                          ? \"0\"\n                          : \"\"\n                      }\n                      onChange={this.onAddressChange}\n                      required\n                    >\n                      {this.props.userReducer.user.addresses.map(\n                        (address, index) => {\n                          return (\n                            <MenuItem value={index} key={index}>\n                              {address.address_name} {address.address_number},{\" \"}\n                              {address.area_name}\n                            </MenuItem>\n                          );\n                        }\n                      )}\n                      <MenuItem\n                        onClick={() => this.selectAddressModal(true, false, \"\")}\n                      >\n                        Add new\n                      </MenuItem>\n                    </Select>\n                  </FormControl>\n                </div>\n                <div className=\"pre-order-col-subdiv\">\n                  <form className=\"pre-order-info-form\">\n                    <div className=\"pre-order-info-form-row\">\n                      <TextField\n                        id=\"bellName\"\n                        name=\"bellName\"\n                        value={this.state.userDetails.bellName}\n                        label=\"Κουδούνι *\"\n                        variant=\"outlined\"\n                        placeholder=\"Όνομα στο κουδούνι\"\n                        className=\"pre-complete-input\"\n                        onChange={this.onChange}\n                      />\n                    </div>\n                    <div className=\"pre-order-info-form-row\">\n                      <div className=\"form-custom-row-group\">\n                        <TextField\n                          id=\"floorNumber\"\n                          name=\"floorNumber\"\n                          label=\"Όροφος *\"\n                          value={this.state.userDetails.floor}\n                          variant=\"outlined\"\n                          placeholder=\"Όροφος\"\n                          className=\"pre-complete-input\"\n                          onChange={this.onChange}\n                        />\n                      </div>\n                      <div className=\"form-custom-row-group\">\n                        <TextField\n                          id=\"phone\"\n                          type=\"tel\"\n                          name=\"phone\"\n                          inputProps={{\n                            pattern: \"69[0-9]{8}\",\n                          }}\n                          label=\"Τηλέφωνο επικοινωνίας\"\n                          value={this.state.phone}\n                          variant=\"outlined\"\n                          placeholder=\"Τηλέφωνο επικοινωνίας: 69xxxxxxxx\"\n                          className=\"pre-complete-input\"\n                          onChange={this.onChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"pre-order-info-form-row\">\n                      <TextField\n                        id=\"comments\"\n                        name=\"comment\"\n                        label=\"Σχόλια\"\n                        variant=\"outlined\"\n                        placeholder=\"Έξτρα σχόλια\"\n                        rows={4}\n                        multiline\n                        className=\"pre-complete-input\"\n                        onChange={this.onChange}\n                      />\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div className=\"pre-order-col pre-order-payment-details\">\n              <div className=\"pre-order-col-container\">\n                <div className=\"pre-order-col-title\">2. Payment Options</div>\n                <div className=\"pre-order-col-subdiv\">\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={this.state.payWithCard}\n                        onChange={() => this.handlePaymentChange(\"card\")}\n                        name=\"Card\"\n                      />\n                    }\n                    label=\"Credit Card\"\n                  />\n                  <EveryPayForm/>\n                </div>\n                <div className=\"pre-order-col-subdiv\">\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={this.state.payWithPaypal}\n                        onChange={() => this.handlePaymentChange(\"paypal\")}\n                        name=\"Paypal\"\n                      />\n                    }\n                    label=\"Paypal\"\n                  />\n                </div>\n                <div className=\"pre-order-col-subdiv\">\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={this.state.payWithCash}\n                        onChange={() => this.handlePaymentChange(\"cash\")}\n                        name=\"Cash\"\n                      />\n                    }\n                    label=\"Cash\"\n                  />\n                </div>\n                <div\n                  className=\"pre-order-col-subdiv\"\n                  id=\"tip-div\"\n                  style={{ display: \"block\" }}\n                >\n                  <FormControl>\n                    <FormLabel>Select Tips</FormLabel>\n                    <FormGroup row={true}>\n                      {availableTipOptions.map((option, index) => {\n                        let active = false;\n                        if (this.state.tips === option) {\n                          active = true;\n                        }\n                        return (\n                          <FormControlLabel\n                            key={index}\n                            value={String(option)}\n                            control={\n                              <Checkbox\n                                checked={active}\n                                name={option.toString()}\n                                onChange={() => this.handleTipsChange(option)}\n                              />\n                            }\n                            label={option}\n                          />\n                        );\n                      })}\n                    </FormGroup>\n                  </FormControl>\n                </div>\n              </div>\n            </div>\n            <div className=\"pre-order-col pre-order-complete-order\">\n              <div className=\"pre-order-col-container\">\n                <div className=\"pre-order-col-title\">3. Complete Order</div>\n                <div className=\"pre-order-col-subdiv\">\n                  <span>Σύνολο: {this.props.orderReducer.totalPrice} €</span>\n                  <br />\n                  <Button\n                    className=\"complete-order-button\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    onClick={this.sendOrder}\n                  >\n                    Αποστολή{\" \"}\n                  </Button>\n                </div>\n                <div className=\"pre-order-col-subdiv\">\n                  <List className=\"pre-order-item-list\">\n                    {this.props.orderReducer.products.map((prod, index) => {\n                      return (\n                        <ListItem\n                          key={index}\n                          disabled\n                          className=\"pre-order-item-list-item\"\n                        >\n                          <ListItemText\n                            type=\"li\"\n                            primary={`${prod.quantity} x ${prod.item.name}`}\n                            secondary={`${prod.optionAnswers.join()} , ${\n                              prod.comment\n                            }`}\n                          />\n                        </ListItem>\n                      );\n                    })}\n                  </List>\n                  <span>payment-details</span>\n                  <br />\n                </div>\n              </div>\n            </div>\n          </div>\n          {addAddressModal}\n          {editAddressModal}\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  userReducer: state.userReducer,\n  orderReducer: state.orderReducer,\n});\nexport default connect(mapStateToProps, {\n  send_order,\n  showErrorSnackbar,\n  empty_cart,\n  order_accepted,\n  clearReducer,\n  getUser,\n  auth_get_request,\n  auth_post_request,\n})(PreCompleteOrderPage);\n",["160","161"],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/adminReducer.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/comments.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/orders.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Components/Sidebar.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Components/CommentsCatalog.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Orders/OrderUserDetailsRow.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Order/EveryPayForm.js",["162","163","164"],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Layout/Header.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Common/PrivateRoute.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/View/Choices/SingleChoicePage.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/View/Products/SingleItemPage.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/webSocketReducer.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/actions.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/utils/util.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Modals/AddressModal.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Common/PrintComponent.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Orders/OrderProductsRow.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/App.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Order/OrderMainPage.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Logging/SnackBars/SuccessSnackbar.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/errors.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/actions/lib.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Layout/Marker.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Create/CreateForm.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/reducers/productReducer.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Layout/NotFound.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Users/UserRatings.js",["165"],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Comments/AllComents.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Admin/Orders/OrdersCatalog.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/View/Choices/ChoicesComponent.js",["166"],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Create/CreateIngredientForm.js",[],"/Users/parismaropoulos/go/src/GoProjects/CoffeeTwist/admin-panel/src/components/Sections/Home/HomePage.js",[],{"ruleId":"167","replacedBy":"168"},{"ruleId":"169","replacedBy":"170"},{"ruleId":"171","severity":1,"message":"172","line":5,"column":10,"nodeType":"173","messageId":"174","endLine":5,"endColumn":18},{"ruleId":"167","replacedBy":"175"},{"ruleId":"169","replacedBy":"176"},{"ruleId":"171","severity":1,"message":"177","line":7,"column":12,"nodeType":"173","messageId":"174","endLine":7,"endColumn":19},{"ruleId":"171","severity":1,"message":"178","line":7,"column":21,"nodeType":"173","messageId":"174","endLine":7,"endColumn":31},{"ruleId":"171","severity":1,"message":"179","line":26,"column":19,"nodeType":"173","messageId":"174","endLine":26,"endColumn":22},{"ruleId":"171","severity":1,"message":"172","line":5,"column":16,"nodeType":"173","messageId":"174","endLine":5,"endColumn":24},{"ruleId":"180","severity":1,"message":"181","line":112,"column":21,"nodeType":"182","messageId":"183","endLine":112,"endColumn":22},"no-native-reassign",["184"],"no-negated-in-lhs",["185"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar",["184"],["185"],"'loading' is assigned a value but never used.","'setLoading' is assigned a value but never used.","'res' is assigned a value but never used.","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","no-global-assign","no-unsafe-negation"]